<div class="templates-container">
  <div *ngFor="let template of templates" class="card">
    <label class="template-option">
      <input 
        type="radio"
        name="selectedTemplate"
        [value]="template"
        [(ngModel)]="selectedTemplate"
        (change)="selectTemplate(template)"
      />
      <span class="template-label">
        {{ template.name }}
      </span>
    </label>
    <div class="preview-section">
      <img [src]="safeUrls[template.name]" class="card-img-top" alt="Preview">
    </div>
  </div>
</div>
<!-- Customization toggle window -->
<div class="customization-panel" *ngIf="selectedTemplate">
  <h3>Customize Template: {{selectedTemplate.name}}</h3>
  <label>Select Store:</label>
  <p-dropdown 
    [options]="storeList" 
    [(ngModel)]="selectedStore"
    (onChange)="onStoreChange($event)"
    optionLabel="name" 
    placeholder="SÃ©lectionne un store">
  </p-dropdown>
  <label>Select Product:</label>
  <p-dropdown 
    [options]="productList"
    [(ngModel)]="selectedProduct"
    (onChange)="onProductChange($event.value)"
    optionLabel="productName"
    placeholder="Choisir un produit">
  </p-dropdown>
  <form [formGroup]="landingForm">
    <input type="text" formControlName="lp_Name" placeholder="Nom de la landing page" />
  </form>
  <button class="generate-button" (click)="generateLandingPage()">Generate Landing Page</button>
</div>
